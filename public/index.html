<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MCland Pharma</title>
    <link rel="stylesheet" href="./assets/css/index.css" />
    <link rel="stylesheet" href="./assets/css/navbar_footer.css" />
  </head>
  <body>
    <script type="text/javascript">
    window.$crisp = [];
    window.CRISP_WEBSITE_ID = "68987257-808e-403d-a06c-35b3ec18c3ef";
    (function () {
      var d = document;
      var s = d.createElement("script");
      s.src = "https://client.crisp.chat/l.js";
      s.async = 1;
      d.getElementsByTagName("head")[0].appendChild(s);
    })();
  </script>
    <!-- HEADER -->
    <header class="header">
      <div class="header__left">
        <img src="assets/image2/logo.png" alt="MCLAND Logo" class="logo" />
      </div>
      <button class="hamburger" id="hamburger-toggle">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav class="header__nav">
        <div class="nav__item">
          <button class="nav__btn" data-menu="medicine">Medicine ▾</button>
          <ul class="dropdown-menu" id="menu-medicine">
            <li>
              <a href="./categories.html?catogeries_ID=4" class="dropdown__link"
                >Cardiac Care</a
              >
            </li>
            <li>
              <a href="/categories.html?catogeries_ID=2" class="dropdown__link"
                >General Health Care</a
              >
            </li>
            <li>
              <a href="./categories.html?catogeries_ID=3" class="dropdown__link"
                >Pain Medication</a
              >
            </li>
          </ul>
        </div>
        <div class="nav__item">
          <button class="nav__btn" data-menu="wellness">Wellness ▾</button>
          <ul class="dropdown-menu" id="menu-wellness">
            <li>
              <a href="./categories.html?catogeries_ID=5" class="dropdown__link"
                >Mental Health</a
              >
            </li>
            <li>
              <a href="./categories.html?catogeries_ID=6" class="dropdown__link"
                >Sexual Wellness</a
              >
            </li>
            <li>
              <a href="./categories.html?catogeries_ID=7" class="dropdown__link"
                >Skincare</a
              >
            </li>
          </ul>
        </div>
        <div class="nav__item">
          <button class="nav__btn" data-menu="beauty">Beauty ▾</button>
          <ul class="dropdown-menu" id="menu-beauty">
            <li>
              <a href="./categories.html?catogeries_ID=7" class="dropdown__link"
                >Skin Care</a
              >
            </li>
            <li>
              <a href="./categories.html?catogeries_ID=8" class="dropdown__link"
                >Steriods</a
              >
            </li>
          </ul>
        </div>
      </nav>
      <script>
        // NAV DROPDOWN TOGGLE
        const navButtons = document.querySelectorAll(".nav__btn");
        document.addEventListener("click", (e) => {
          // if clicked on a nav button, toggle its menu
          const btn = e.target.closest(".nav__btn");
          if (btn) {
            const key = btn.dataset.menu;
            const menu = document.getElementById(`menu-${key}`);

            // close others
            navButtons.forEach((b) => {
              const other = document.getElementById(`menu-${b.dataset.menu}`);
              if (b !== btn) {
                b.classList.remove("active");
                other.style.display = "none";
              }
            });

            // toggle this one
            const isOpen = btn.classList.toggle("active");
            menu.style.display = isOpen ? "block" : "none";

            return;
          }

          // click elsewhere? close all
          navButtons.forEach((b) => {
            const m = document.getElementById(`menu-${b.dataset.menu}`);
            b.classList.remove("active");
            m.style.display = "none";
          });
        });
      </script>

      <div class="header__right">
        <div class="search">
          <input
            type="text"
            placeholder="Search products..."
            class="search__input"
            id="search-input"
            autocomplete="off"
          />
          <ul id="suggestions" class="search-suggestions"></ul>

          <button class="btn btn--search" id="search-button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              width="20"
              height="20"
              fill="currentColor"
            >
              <path
                d="M10 2a8 8 0 015.292 13.708l4.5 4.5a1 1 0 01-1.415 1.414l-4.5-4.5A8 8 0 1110 2zm0 2a6 6 0 100 12 6 6 0 000-12z"
              />
            </svg>
          </button>
        </div>

        <a href="cart" id="cart-a-section">
          <button class="btn btn--icon">
            <img
              src="https://cdn-icons-png.flaticon.com/512/3144/3144456.png"
              alt="Cart"
              class="cart-icon"
            />
          </button>
          <span id="cart-count" class="cart-count">0</span>
        </a>
      </div>

      <!-- Hamburger only visible on mobile -->
    </header>

    <script>
      const hamburger = document.getElementById("hamburger-toggle");
      const nav = document.querySelector(".header__nav");

      hamburger.addEventListener("click", () => {
        nav.classList.toggle("active");
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", async () => {
        const cartCountSpan = document.getElementById("cart-count");

        try {
          // Fetch the cart count for the logged-in user
          const response = await fetch("/api/cart/count"); // Adjust endpoint as needed
          const result = await response.json();

          if (result.success) {
            const cartCount = result.count; // Get the count from the response
            if (cartCount > 0) {
              cartCountSpan.textContent = cartCount; // Update badge content
              cartCountSpan.style.display = "inline-block"; // Show badge
            }
          } else {
            console.error("Failed to fetch cart count:", result.message);
          }
        } catch (error) {
          console.error("Error fetching cart count:", error);
        }
      });
    </script>

    <!-- HERO -->
    <!-- <section class="hero-alt">
      <div class="hero-alt__bg">
         <img
          src="assets/image2/WhatsApp Image 2025-06-19 at 13.30.48_27ad08b7.jpg"
        />
        <div class="hero-alt__overlay">
          <div class="hero-alt__content">
            <div class="hero-alt_contact">
              <a
                href="https://t.me/MCLAND1"
                target="_blank"
                class="btn btn--cta"
                >Contact Us</a
              >
            </div>
          </div> 
        </div>
      </div>

          
    </section> -->
    <!-- Updated HERO section for your index.html -->
    <section class="hero-alt">
      <div class="hero-alt__bg">
        <!-- Hero Title and Subtitle -->
        <div class="hero-content">
          <h1 class="hero-title">Find Your Medicine</h1>
        </div>

        <!-- Large Hero Search Bar -->
        <div class="hero-search">
          <div class="hero-search-container">
            <input
              type="text"
              placeholder="Search for medicines, health products..."
              id="hero-search-input"
              autocomplete="off"
            />
            <button class="hero-search-btn" id="hero-search-button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                width="24"
                height="24"
                fill="currentColor"
              >
                <path
                  d="M10 2a8 8 0 015.292 13.708l4.5 4.5a1 1 0 01-1.415 1.414l-4.5-4.5A8 8 0 1110 2zm0 2a6 6 0 100 12 6 6 0 000-12z"
                />
              </svg>
            </button>
          </div>
          <ul id="hero-suggestions" class="search-suggestions"></ul>
        </div>

        <!-- Contact Button -->
        <!-- <div class="hero-contact">
      <a href="https://t.me/MCLAND1" target="_blank" class="btn btn--cta">Contact Us</a>
    </div> -->
      </div>
    </section>

    <script>
      // Initialize hero search functionality
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize search for hero section
        initHeroSearch();
      });

      function initHeroSearch() {
        fetch("/products")
          .then((res) => res.json())
          .then((products) => {
            const heroSearchInput =
              document.getElementById("hero-search-input");
            const heroSearchButton =
              document.getElementById("hero-search-button");
            const heroSuggestionBox =
              document.getElementById("hero-suggestions");

            // Real-time suggestions for hero search
            heroSearchInput.addEventListener("input", () => {
              const query = heroSearchInput.value.trim().toLowerCase();
              heroSuggestionBox.innerHTML = "";

              if (!query) {
                heroSuggestionBox.style.display = "none";
                return;
              }

              const matches = products.filter((product) =>
                product.product_name.toLowerCase().includes(query)
              );

              if (matches.length > 0) {
                matches.forEach((product) => {
                  const li = document.createElement("li");

                  const img = document.createElement("img");
                  img.src = product.image_url || "assets/image/default.png";
                  img.alt = product.product_name;

                  const span = document.createElement("span");
                  span.textContent = product.product_name;

                  li.appendChild(img);
                  li.appendChild(span);

                  li.onclick = () => {
                    window.location.href = `product_overview.html?product_ID=${product.product_id}`;
                  };

                  heroSuggestionBox.appendChild(li);
                });
                heroSuggestionBox.style.display = "block";
              } else {
                heroSuggestionBox.style.display = "none";
              }
            });

            // Hide suggestions when clicking outside
            document.addEventListener("click", (e) => {
              if (!e.target.closest(".hero-search")) {
                heroSuggestionBox.style.display = "none";
              }
            });

            // Handle search
            function handleHeroSearch() {
              const query = heroSearchInput.value.trim();
              const matchingProduct = products.find(
                (product) =>
                  product.product_name.toLowerCase() === query.toLowerCase()
              );

              if (matchingProduct) {
                window.location.href = `product_overview.html?product_ID=${matchingProduct.product_id}`;
              } else if (query) {
                // If no exact match, redirect to search results or show message
                alert("No exact matching product found.");
              }
            }

            // Button click and Enter key handling
            heroSearchButton.addEventListener("click", handleHeroSearch);
            heroSearchInput.addEventListener("keydown", (event) => {
              if (event.key === "Enter") {
                event.preventDefault();
                handleHeroSearch();
              }
            });
          })
          .catch((error) => {
            console.error("Error fetching products for hero search:", error);
          });
      }

      // Updated JavaScript to position suggestions correctly
      function initHeroSearch() {
        fetch("/products")
          .then((res) => res.json())
          .then((products) => {
            const heroSearchInput =
              document.getElementById("hero-search-input");
            const heroSearchButton =
              document.getElementById("hero-search-button");
            const heroSuggestionBox =
              document.getElementById("hero-suggestions");

            // Real-time suggestions for hero search
            heroSearchInput.addEventListener("input", () => {
              const query = heroSearchInput.value.trim().toLowerCase();
              heroSuggestionBox.innerHTML = "";

              if (!query) {
                heroSuggestionBox.style.display = "none";
                return;
              }

              const matches = products.filter((product) =>
                product.product_name.toLowerCase().includes(query)
              );

              if (matches.length > 0) {
                // Position the suggestions dropdown below the search bar
                const heroSearchContainer = document.querySelector(
                  ".hero-search-container"
                );
                const rect = heroSearchContainer.getBoundingClientRect();
                const scrollTop =
                  window.pageYOffset || document.documentElement.scrollTop;

                // Set position dynamically
                heroSuggestionBox.style.top =
                  rect.bottom + scrollTop + 10 + "px";

                matches.forEach((product) => {
                  const li = document.createElement("li");

                  const img = document.createElement("img");
                  img.src = product.image_url || "assets/image/default.png";
                  img.alt = product.product_name;

                  const span = document.createElement("span");
                  span.textContent = product.product_name;

                  li.appendChild(img);
                  li.appendChild(span);

                  li.onclick = () => {
                    window.location.href = `product_overview.html?product_ID=${product.product_id}`;
                  };

                  heroSuggestionBox.appendChild(li);
                });
                heroSuggestionBox.style.display = "block";
              } else {
                heroSuggestionBox.style.display = "none";
              }
            });

            // Hide suggestions when clicking outside
            document.addEventListener("click", (e) => {
              if (!e.target.closest(".hero-search")) {
                heroSuggestionBox.style.display = "none";
              }
            });

            // Handle search
            function handleHeroSearch() {
              const query = heroSearchInput.value.trim();
              const matchingProduct = products.find(
                (product) =>
                  product.product_name.toLowerCase() === query.toLowerCase()
              );

              if (matchingProduct) {
                window.location.href = `product_overview.html?product_ID=${matchingProduct.product_id}`;
              } else if (query) {
                alert("No exact matching product found.");
              }
            }

            // Button click and Enter key handling
            heroSearchButton.addEventListener("click", handleHeroSearch);
            heroSearchInput.addEventListener("keydown", (event) => {
              if (event.key === "Enter") {
                event.preventDefault();
                handleHeroSearch();
              }
            });
          })
          .catch((error) => {
            console.error("Error fetching products for hero search:", error);
          });
      }

      // Initialize when DOM is loaded
      document.addEventListener("DOMContentLoaded", function () {
        initHeroSearch();
      });
    </script>

    <!-- FEATURES -->
    <section class="features">
      <div class="features__item">
        <img
          src="./assets/image2/certifiedorignal.jpg"
          alt="Certified Genuine"
        />
        <h4>Certified Genuine</h4>
        <p>All products sourced from licensed manufacturers.</p>
      </div>
      <div class="features__item">
        <img src="./assets/image2/h24.jpg" alt="Expert Support" />
        <h4>24/7 Expert Support</h4>
        <p>Licensed pharmacists available round-the-clock.</p>
      </div>
      <div class="features__item">
        <img src="./assets/image2/delivery.jpg" alt="Fast Delivery" />
        <h4>Fast & Secure Delivery</h4>
        <p>Next-day delivery with tamper-proof packaging.</p>
      </div>
    </section>

    <!-- SHOP BY CATEGORIES – HORIZONTAL DRAG CAROUSEL -->
    <section id="categories" class="categories-carousel">
      <h2 class="section-title">Shop by Categories</h2>
      <div class="carousel-container">
        <a
          href="./categories.html?catogeries_ID=1"
          class="category-card category-card--premium"
        >
          <div class="icon-wrapper">
            <img src="assets/image/USA-Premium.png" alt="USA Premium" />
          </div>
          <span>USA Premium</span>
          <span class="badge">Premium</span>
        </a>
        <a href="./categories.html?catogeries_ID=2" class="category-card">
          <div class="icon-wrapper">
            <img
              src="assets/image/general-health.png"
              alt="General Health Care"
            />
          </div>
          <span>General Health Care</span>
        </a>
        <a href="./categories.html?catogeries_ID=3" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/pain-medication.png" alt="Pain Medication" />
          </div>
          <span>Pain Medication</span>
        </a>
        <a href="./categories.html?catogeries_ID=4" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/cardiac-care.png" alt="Cardiac Care" />
          </div>
          <span>Cardiac Care</span>
        </a>
        <a href="./categories.html?catogeries_ID=5" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/mental-health.png" alt="Mental Health" />
          </div>
          <span>Mental Health</span>
        </a>
        <a href="./categories.html?catogeries_ID=6" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/sexual-wellness.png" alt="Sexual Wellness" />
          </div>
          <span>Sexual Wellness</span>
        </a>
        <a href="./categories.html?catogeries_ID=7" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/skincare.png" alt="Skincare" />
          </div>
          <span>Skincare</span>
        </a>
        <a href="./categories.html?catogeries_ID=8" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/steroids.png" alt="Steroids" />
          </div>
          <span>Steroids</span>
        </a>
        <a href="./categories.html?catogeries_ID=9" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/women-health.png" alt="Women's Health" />
          </div>
          <span>Women's Health</span>
        </a>
        <a href="./categories.html?catogeries_ID=10" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/mens-health.png" alt="Men's Health" />
          </div>
          <span>Men's Health</span>
        </a>
      </div>
    </section>

    <script>
      // DRAG-TO-SCROLL FOR CATEGORIES CAROUSEL
      const carousel = document.querySelector(".carousel-container");
      let isDown = false,
        startX,
        scrollLeft;

      carousel.addEventListener("mousedown", (e) => {
        isDown = true;
        carousel.classList.add("active");
        startX = e.pageX - carousel.offsetLeft;
        scrollLeft = carousel.scrollLeft;
      });
      carousel.addEventListener("mouseleave", () => {
        isDown = false;
        carousel.classList.remove("active");
      });
      carousel.addEventListener("mouseup", () => {
        isDown = false;
        carousel.classList.remove("active");
      });
      carousel.addEventListener("mousemove", (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - carousel.offsetLeft;
        const walk = (x - startX) * 1; // scroll-fast multiplier (try 1)
        carousel.scrollLeft = scrollLeft - walk;
      });
    </script>

    <!-- TESTIMONIALS -->
    <section class="testimonials">
      <h2>What Our Customers Say</h2>
      <div class="testimonials__grid">
        <blockquote>
          <p>"Fast delivery and genuine products—I trust MCLAND completely!"</p>
          <footer>— Sarah K.</footer>
        </blockquote>
        <blockquote>
          <p>"The customer support answered all my queries instantly."</p>
          <footer>— James L.</footer>
        </blockquote>
        <blockquote>
          <p>"Packaging was flawless and the medicines arrived on time."</p>
          <footer>— Priya M.</footer>
        </blockquote>
      </div>
    </section>

    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section resources">
          <h3>Resources</h3>
          <ul>
            <li><a href="info.html?section=shipping">Shipping</a></li>
            <li><a href="info.html?section=returns">Returns & Refunds</a></li>
            <li><a href="info.html?section=payment">Payment Methods</a></li>
            <li><a href="info.html?section=faqs">FAQs</a></li>
          </ul>
        </div>
        <div class="footer-section legal">
          <h3>Legal</h3>
          <ul>
            <li><a href="info.html?section=about">About Us</a></li>
            <li><a href="info.html?section=contact">Contact Us</a></li>
            <li><a href="info.html?section=terms">Terms & Conditions</a></li>
            <li><a href="info.html?section=privacy">Privacy Policy</a></li>
            <li><a href="info.html?section=cancellation">Cancellation Policy</a></li>
          </ul>
        </div>
        <div class="footer-section support">
          <h3>Support 24/7</h3>
          <p><i class="fa fa-envelope"></i> support@mclandpharma.com</p>
          <p><i class="fa fa-phone"></i> +1 315 666 5976</p>
        </div>
        <div class="footer-section disclaimer">
          <h3>Disclaimer</h3>
          <p>
            The services on Mcland Pharma are available for millions of people
            solely presented for informative, qualitative, quantitative, and
            affordable medicinal purposes. Here we believe The Doctor's advice =
            The Best Advice for medicinal needs by following protocol
            accordingly by people suffering from different conditions.
          </p>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="footer-left">
          <p class="copyright">
            &copy; 2024 Mcland Pharma. All rights reserved.
          </p>
          <p>© 2024 All rights reserved. Mcland Pharma</p>
          <p>
            Mcland Pharma has been working on a change towards healthcare and
            improving health. We are on a mission Encouraging Healthcare –
            Improving Health since 2013. We have covered the finest medicines
            for the mission towards cure with a few simple steps at
            budget-friendly prices.
          </p>
        </div>
        <div class="footer-right">
          <h3>Payment modes</h3>
          <div class="payment-icons">
            <img src="./assets/image/cash_app.png" alt="Cash App" />
            <img src="./assets/image/zelle.png" alt="Zelle" />
            <img src="./assets/image/venmo.png" alt="Venmo" />
            <!-- <img src="./assets/image/apple_pay.png" alt="Apple Pay">
          <img src="./assets/image/Gpay.png" alt="Google Pay"> -->
            <img src="./assets/image/pay_pal.jpg" alt="Paypal" />
            <!-- <img src="./assets/image/wire_transfer.png" alt="Wire Transfer"> -->
            <img src="./assets/image/bitcoin.png" alt="Bitcoin" />
          </div>
        </div>
      </div>
    </footer>
    <!-- Search Functionality -->
    <script>
      async function buildProductSearch() {
        try {
          const response = await fetch(`/products`);
          const products = await response.json();
          
          const searchInput = document.getElementById("search-input");
          const searchButton = document.getElementById("search-button");
          const suggestionBox = document.getElementById("suggestions");

         

          // Real-time suggestions
          searchInput.addEventListener("input", () => {
            const query = searchInput.value.trim().toLowerCase();
            suggestionBox.innerHTML = "";

            if (!query) {
              suggestionBox.style.display = "none";
              return;
            }

            const matches = products.filter((product) =>
              product.product_name.toLowerCase().includes(query)
            );

            if (matches.length > 0) {
              matches.forEach((product) => {
                // removed slice(0,5) to show all
                const li = document.createElement("li");

                const img = document.createElement("img");
                img.src = product.image_url || "assets/image/default.png";
                img.alt = product.product_name;
                img.className = "suggestion-image";
                img.style.width = "50px";
                img.style.height = "50px";
                img.style.objectFit = "cover";
                img.style.marginRight = "10px";
                img.style.borderRadius = "5px";

                const span = document.createElement("span");
                span.textContent = product.product_name;

                li.appendChild(img);
                li.appendChild(span);

                li.onclick = () => {
                  searchInput.value = product.product_name;
                  suggestionBox.style.display = "none";
                  handleSearch();
                };

                suggestionBox.appendChild(li);
              });
              suggestionBox.style.display = "block";
            } else {
              suggestionBox.style.display = "none";
            }
          });

          // Hide suggestions when clicking outside
          document.addEventListener("click", (e) => {
            if (!e.target.closest(".search")) {
              suggestionBox.style.display = "none";
            }
          });

          // Search and redirect if exact match found
          function handleSearch() {
            const query = searchInput.value.trim();
            const matchingProduct = products.find(
              (product) => product.product_name === query
            );

            if (matchingProduct) {
              window.location.href = `product_overview.html?product_ID=${matchingProduct.product_id}`;
            } else {
              alert("No matching product found.");
            }
          }

          // Button click or Enter = search
          searchButton.addEventListener("click", handleSearch);
          searchInput.addEventListener("keydown", (event) => {
            if (event.key === "Enter") {
              event.preventDefault();
              handleSearch();
            }
          });

          // Filtering product cards (if present on page)
          const productCards = document.querySelectorAll(".product");
          function filterProducts() {
            const query = searchInput.value.trim().toLowerCase();

            productCards.forEach((product) => {
              const productName = product.dataset.name.toLowerCase();
              product.style.display = productName.includes(query)
                ? "block"
                : "none";
            });
          }

          searchInput.addEventListener("keydown", function (event) {
            if (event.key === "Enter") {
              event.preventDefault();
              filterProducts();
            }
          });

          searchButton.addEventListener("click", filterProducts);
        } catch (error) {
          console.error("Error fetching products:", error);
        }
      }

      buildProductSearch();
    </script>

    
    <!-- popup -->
    <!-- <div id="promoPopup" class="popup-overlay">
      <div class="popup-banner">
        <button id="closePopup" class="popup-close">&times;</button>

        <div class="banner-content">
          <div class="banner-text">
            <div class="offer-box">
              <span class="offer-title">FIRST ORDER</span>
              <span class="offer-subtitle">Cash on Delivery</span>
            </div>
            <p class="terms">*T&C Apply</p>
          </div>
          <div class="banner-image">
            <img
              src="https://cdn-icons-png.flaticon.com/512/869/869636.png"
              alt="Shopping Bags"
            />
          </div>
        </div>
      </div>
    </div> -->

    

    <!-- <script>
      document.addEventListener("DOMContentLoaded", function () {
        const overlay = document.getElementById("promoPopup");
        const closeBtn = document.getElementById("closePopup");
        let autoTimer;

        function showPopup() {
          overlay.classList.add("is-open");
          autoTimer = setTimeout(closePopup, 5000);
        }
        function closePopup() {
          overlay.classList.remove("is-open");
          if (autoTimer) clearTimeout(autoTimer);
        }

        const navEntry =
          (performance.getEntriesByType &&
            performance.getEntriesByType("navigation")[0]) ||
          null;
        let navType = navEntry ? navEntry.type : undefined;
        if (!navType && performance.navigation) {
          const map = {
            0: "navigate",
            1: "reload",
            2: "back_forward",
            255: "prerender",
          };
          navType = map[performance.navigation.type] || "navigate";
        }
        const isReload = navType === "reload";
        const hasReferrer = !!document.referrer;
        let isExternalReferrer = false;
        if (hasReferrer) {
          try {
            isExternalReferrer =
              new URL(document.referrer).origin !== window.location.origin;
          } catch (e) {
            isExternalReferrer = true;
          }
        }
        const shouldShow = isReload || !hasReferrer || isExternalReferrer;
        if (shouldShow) showPopup();

        closeBtn.addEventListener("click", closePopup);
        overlay.addEventListener("click", function (e) {
          if (e.target === overlay) closePopup();
        });
      });
    </script> -->
  </body>
  
</html>
