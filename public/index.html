<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MCland Pharma</title>
    <link rel="stylesheet" href="./assets/css/index.css" />
    <link rel="stylesheet" href="./assets/css/styles.css" />
    <link rel="stylesheet" href="./assets/css/navbar_footer.css" />
  </head>
  <body>
    <!-- HEADER -->
    <header class="header">
      <div class="header__left">
        <img src="assets/image2/logo.png" alt="MCLAND Logo" class="logo" />
      </div>
      <nav class="header__nav">
        <div class="nav__item">
          <button class="nav__btn" data-menu="medicine">Medicine ▾</button>
          <ul class="dropdown-menu" id="menu-medicine">
            <li>
              <a href="./categories.html?catogeries_ID=4" class="dropdown__link"
                >Cardiac Care</a
              >
            </li>
            <li>
              <a href="/categories.html?catogeries_ID=2" class="dropdown__link"
                >General Health Care</a
              >
            </li>
            <li>
              <a href="./categories.html?catogeries_ID=3" class="dropdown__link"
                >Pain Medication</a
              >
            </li>
          </ul>
        </div>
        <div class="nav__item">
          <button class="nav__btn" data-menu="wellness">Wellness ▾</button>
          <ul class="dropdown-menu" id="menu-wellness">
            <li>
              <a href="./categories.html?catogeries_ID=5" class="dropdown__link"
                >Mental Health</a
              >
            </li>
            <li>
              <a href="./categories.html?catogeries_ID=6" class="dropdown__link"
                >Sexual Wellness</a
              >
            </li>
            <li>
              <a href="./categories.html?catogeries_ID=7" class="dropdown__link"
                >Skincare</a
              >
            </li>
          </ul>
        </div>
        <div class="nav__item">
          <button class="nav__btn" data-menu="beauty">Beauty ▾</button>
          <ul class="dropdown-menu" id="menu-beauty">
            <li>
              <a href="./categories.html?catogeries_ID=7" class="dropdown__link"
                >Skin Care</a
              >
            </li>
            <li>
              <a href="./categories.html?catogeries_ID=8" class="dropdown__link"
                >Steriods</a
              >
            </li>
          </ul>
        </div>
      </nav>
      <script>
        // NAV DROPDOWN TOGGLE
        const navButtons = document.querySelectorAll(".nav__btn");
        document.addEventListener("click", (e) => {
          // if clicked on a nav button, toggle its menu
          const btn = e.target.closest(".nav__btn");
          if (btn) {
            const key = btn.dataset.menu;
            const menu = document.getElementById(`menu-${key}`);

            // close others
            navButtons.forEach((b) => {
              const other = document.getElementById(`menu-${b.dataset.menu}`);
              if (b !== btn) {
                b.classList.remove("active");
                other.style.display = "none";
              }
            });

            // toggle this one
            const isOpen = btn.classList.toggle("active");
            menu.style.display = isOpen ? "block" : "none";

            return;
          }

          // click elsewhere? close all
          navButtons.forEach((b) => {
            const m = document.getElementById(`menu-${b.dataset.menu}`);
            b.classList.remove("active");
            m.style.display = "none";
          });
        });
      </script>

      <div class="header__right">
        <div class="search">
          <input
            type="text"
            placeholder="Search products..."
            class="search__input"
            id="search-input"
            list="search_list"
          />
          <datalist id="search_list">
            <option value="anazol">anazol</option>
            <option value="Armandilo">Armandilo</option>
            <option value="Pain Killer">Pain Killer</option>
            <option value="Medistic">Medtistic</option>
          </datalist>
          <button class="btn btn--search" id="search-button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              width="20"
              height="20"
              fill="currentColor"
            >
              <path
                d="M10 2a8 8 0 015.292 13.708l4.5 4.5a1 1 0 01-1.415 1.414l-4.5-4.5A8 8 0 1110 2zm0 2a6 6 0 100 12 6 6 0 000-12z"
              />
            </svg>
          </button>
        </div>
        <a href="cart" id="cart-a-section">
          <button class="btn btn--icon">
            <img
              src="https://cdn-icons-png.flaticon.com/512/3144/3144456.png"
              alt="Cart"
              class="cart-icon"
            />
          </button>
          <span id="cart-count" class="cart-count">0</span>
        </a>
      </div>
    </header>
    <script>
      document.addEventListener("DOMContentLoaded", async () => {
        const cartCountSpan = document.getElementById("cart-count");

        try {
          // Fetch the cart count for the logged-in user
          const response = await fetch("/api/cart/count"); // Adjust endpoint as needed
          const result = await response.json();

          if (result.success) {
            const cartCount = result.count; // Get the count from the response
            if (cartCount > 0) {
              cartCountSpan.textContent = cartCount; // Update badge content
              cartCountSpan.style.display = "inline-block"; // Show badge
            }
          } else {
            console.error("Failed to fetch cart count:", result.message);
          }
        } catch (error) {
          console.error("Error fetching cart count:", error);
        }
      });
    </script>

    <!-- HERO -->
    <section class="hero-alt">
      <div class="hero-alt__bg">
        <img src="assets/image2/WhatsApp Image 2025-06-19 at 13.30.48_27ad08b7.jpg" />
        <div class="hero-alt__overlay">
          <div class="hero-alt__content">
            <div class="hero-alt_contact">
        <a href="https://t.me/MCLAND1" target="_blank" class="btn btn--cta"
          >Contact Us</a
        >
        </div>
      </div>
        </div>
      </div>
      
          
    </section>

    <!-- FEATURES -->
    <section class="features">
      <div class="features__item">
        <img src="./assets/image2/certifiedorignal.jpg" alt="Certified Genuine" />
        <h4>Certified Genuine</h4>
        <p>All products sourced from licensed manufacturers.</p>
      </div>
      <div class="features__item">
        <img src="./assets/image2/h24.jpg" alt="Expert Support" />
        <h4>24/7 Expert Support</h4>
        <p>Licensed pharmacists available round-the-clock.</p>
      </div>
      <div class="features__item">
        <img src="./assets/image2/delivery.jpg" alt="Fast Delivery" />
        <h4>Fast & Secure Delivery</h4>
        <p>Next-day delivery with tamper-proof packaging.</p>
      </div>
    </section>

    <!-- SHOP BY CATEGORIES – HORIZONTAL DRAG CAROUSEL -->
    <section id="categories" class="categories-carousel">
      <h2 class="section-title">Shop by Categories</h2>
      <div class="carousel-container">
        <a
          href="./categories.html?catogeries_ID=1"
          class="category-card category-card--premium"
        >
          <div class="icon-wrapper">
            <img src="assets/image/USA-Premium.png" alt="USA Premium" />
          </div>
          <span>USA Premium</span>
          <span class="badge">Premium</span>
        </a>
        <a href="./categories.html?catogeries_ID=2" class="category-card">
          <div class="icon-wrapper">
            <img
              src="assets/image/general-health.png"
              alt="General Health Care"
            />
          </div>
          <span>General Health Care</span>
        </a>
        <a href="./categories.html?catogeries_ID=3" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/pain-medication.png" alt="Pain Medication" />
          </div>
          <span>Pain Medication</span>
        </a>
        <a href="./categories.html?catogeries_ID=4" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/cardiac-care.png" alt="Cardiac Care" />
          </div>
          <span>Cardiac Care</span>
        </a>
        <a href="./categories.html?catogeries_ID=5" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/mental-health.png" alt="Mental Health" />
          </div>
          <span>Mental Health</span>
        </a>
        <a href="./categories.html?catogeries_ID=6" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/sexual-wellness.png" alt="Sexual Wellness" />
          </div>
          <span>Sexual Wellness</span>
        </a>
        <a href="./categories.html?catogeries_ID=7" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/skincare.png" alt="Skincare" />
          </div>
          <span>Skincare</span>
        </a>
        <a href="./categories.html?catogeries_ID=8" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/steroids.png" alt="Steroids" />
          </div>
          <span>Steroids</span>
        </a>
        <a href="./categories.html?catogeries_ID=9" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/women-health.png" alt="Women's Health" />
          </div>
          <span>Women's Health</span>
        </a>
        <a href="./categories.html?catogeries_ID=10" class="category-card">
          <div class="icon-wrapper">
            <img src="assets/image/mens-health.png" alt="Men's Health" />
          </div>
          <span>Men's Health</span>
        </a>
      </div>
    </section>

    <script>
      // DRAG-TO-SCROLL FOR CATEGORIES CAROUSEL
      const carousel = document.querySelector(".carousel-container");
      let isDown = false,
        startX,
        scrollLeft;

      carousel.addEventListener("mousedown", (e) => {
        isDown = true;
        carousel.classList.add("active");
        startX = e.pageX - carousel.offsetLeft;
        scrollLeft = carousel.scrollLeft;
      });
      carousel.addEventListener("mouseleave", () => {
        isDown = false;
        carousel.classList.remove("active");
      });
      carousel.addEventListener("mouseup", () => {
        isDown = false;
        carousel.classList.remove("active");
      });
      carousel.addEventListener("mousemove", (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - carousel.offsetLeft;
        const walk = (x - startX) * 1; // scroll-fast multiplier (try 1)
        carousel.scrollLeft = scrollLeft - walk;
      });
    </script>

    <!-- TESTIMONIALS -->
    <section class="testimonials">
      <h2>What Our Customers Say</h2>
      <div class="testimonials__grid">
        <blockquote>
          <p>"Fast delivery and genuine products—I trust MCLAND completely!"</p>
          <footer>— Sarah K.</footer>
        </blockquote>
        <blockquote>
          <p>"The customer support answered all my queries instantly."</p>
          <footer>— James L.</footer>
        </blockquote>
        <blockquote>
          <p>"Packaging was flawless and the medicines arrived on time."</p>
          <footer>— Priya M.</footer>
        </blockquote>
      </div>
    </section>

    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section resources">
          <h3>Resources</h3>
          <ul>
            <li><a href="#">Shipping</a></li>
            <li><a href="#">Returns & Refunds</a></li>
            <li><a href="#">Payment Methods</a></li>
            <li><a href="#">FAQs</a></li>
          </ul>
        </div>
        <div class="footer-section legal">
          <h3>Legal</h3>
          <ul>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Contact Us</a></li>
            <li><a href="#">Terms & Conditions</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Cancellation Policy</a></li>
          </ul>
        </div>
        <div class="footer-section support">
          <h3>Support 24/7</h3>
          <p><i class="fa fa-envelope"></i> support@mclandpharma.com</p>
          <p><i class="fa fa-phone"></i> +1 315 666 5976</p>
        </div>
        <div class="footer-section disclaimer">
          <h3>Disclaimer</h3>
          <p>
            The services on Mcland Pharma are available for millions of people
            solely presented for informative, qualitative, quantitative, and
            affordable medicinal purposes. Here we believe The Doctor's advice =
            The Best Advice for medicinal needs by following protocol
            accordingly by people suffering from different conditions.
          </p>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="footer-left">
          <p class="copyright">
            &copy; 2024 Mcland Pharma. All rights reserved.
          </p>
          <p>© 2024 All rights reserved. Mcland Pharma</p>
          <p>
            Mcland Pharma has been working on a change towards healthcare and
            improving health. We are on a mission Encouraging Healthcare –
            Improving Health since 2013. We have covered the finest medicines
            for the mission towards cure with a few simple steps at
            budget-friendly prices.
          </p>
        </div>
        <div class="footer-right">
          <h3>Payment modes</h3>
          <div class="payment-icons">
            <img src="./assets/image/cash_app.png" alt="Cash App" />
            <img src="./assets/image/zelle.png" alt="Zelle" />
            <img src="./assets/image/venmo.png" alt="Venmo" />
            <!-- <img src="./assets/image/apple_pay.png" alt="Apple Pay">
          <img src="./assets/image/Gpay.png" alt="Google Pay"> -->
            <img src="./assets/image/pay_pal.jpg" alt="Paypal" />
            <!-- <img src="./assets/image/wire_transfer.png" alt="Wire Transfer"> -->
            <img src="./assets/image/bitcoin.png" alt="Bitcoin" />
          </div>
        </div>
      </div>
    </footer>
    <!-- Search Functionality -->
    <script>
      // Function to build the product search index
      // async function buildProductSearch() {
      //   try {
      //     const response = await fetch(`/products`);
      //     const products = await response.json();
      //     // console.log("prosuct is",products);
      //     const searchList = document.getElementById("search_list");
      //     searchList.innerHTML = "";
      //     const fragment = document.createDocumentFragment();
      //     products.forEach((product) => {
      //       const option = document.createElement("option");
      //       option.value = product.product_name || "Product Name";
      //       option.textContent = product.product_name || "Product Name";
      //       fragment.appendChild(option);
      //     });
      //     searchList.appendChild(fragment);

      //     const searchButton = document.getElementById("search-button");
      //     const searchInput = document.getElementById("search-input");
      //     searchButton.addEventListener("click", () => {
      //       const query = searchInput.value.trim();
      //       const matchingProduct = products.find(
      //         (product) => product.product_name === query
      //       );
      //       if (matchingProduct) {
      //         window.location.href = `product_overview.html?product_ID=${matchingProduct.product_id}`;
      //       } else {
      //         alert("No matching product found.");
      //       }
      //     });
      //   } catch (error) {
      //     console.error("eror is", error);
      //   }
      // }
      async function buildProductSearch() {
        try {
          const response = await fetch(`/products`);
          const products = await response.json();

          const searchList = document.getElementById("search_list");
          searchList.innerHTML = "";
          const fragment = document.createDocumentFragment();

          products.forEach((product) => {
            const option = document.createElement("option");
            option.value = product.product_name || "Product Name";
            option.textContent = product.product_name || "Product Name";
            fragment.appendChild(option);
          });

          searchList.appendChild(fragment);

          const searchButton = document.getElementById("search-button");
          const searchInput = document.getElementById("search-input");

          // Function to handle product search
          const handleSearch = () => {
            const query = searchInput.value.trim();
            const matchingProduct = products.find(
              (product) => product.product_name === query
            );

            if (matchingProduct) {
              window.location.href = `product_overview.html?product_ID=${matchingProduct.product_id}`;
            } else {
              alert("No matching product found.");
            }
          };

          // Trigger search on button click
          searchButton.addEventListener("click", handleSearch);

          // Trigger search on Enter key press in the input field
          searchInput.addEventListener("keydown", (event) => {
            if (event.key === "Enter") {
              handleSearch();
            }
          });
        } catch (error) {
          console.error("Error is", error);
        }
      }

      buildProductSearch();
    </script>
    <script>
      const searchInput = document.getElementById("search-input");
      const searchButton = document.getElementById("search-button");
      const products = document.querySelectorAll(".product");

      function filterProducts() {
        const query = searchInput.value.trim().toLowerCase();

        products.forEach((product) => {
          const productName = product.dataset.name.toLowerCase();
          if (productName.includes(query)) {
            product.style.display = "block";
          } else {
            product.style.display = "none";
          }
        });
      }

      // Filter when Enter is pressed
      searchInput.addEventListener("keydown", function (event) {
        if (event.key === "Enter") {
          event.preventDefault();
          filterProducts();
        }
      });

      // Filter when search button is clicked
      searchButton.addEventListener("click", filterProducts);
    </script>
  </body>
</html>
